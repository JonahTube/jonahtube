<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Community Guidelines - JonahTube</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .guidelines-content {
      margin-left: var(--sidebar-width);
      padding: 24px;
      max-width: 1000px;
      background-color: var(--background-primary);
      min-height: calc(100vh - var(--header-height));
      transition: margin-left 0.2s ease;
    }

    .guidelines-header {
      background: var(--background-secondary);
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      text-align: center;
    }

    .guidelines-header h1 {
      color: var(--youtube-red);
      font-size: 32px;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .guidelines-intro {
      font-size: 18px;
      color: var(--text-secondary);
      line-height: 1.6;
      max-width: 600px;
      margin: 0 auto;
    }

    .guidelines-nav {
      background: var(--background-secondary);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 24px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .nav-btn {
      padding: 8px 16px;
      background: var(--background-tertiary);
      color: var(--text-secondary);
      border: none;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
    }

    .nav-btn:hover,
    .nav-btn.active {
      background: var(--focus-color);
      color: white;
    }

    .guidelines-section {
      background: var(--background-secondary);
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 24px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .section-title {
      color: var(--text-primary);
      font-size: 24px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-subtitle {
      color: var(--text-secondary);
      font-size: 16px;
      margin-bottom: 24px;
      line-height: 1.6;
    }

    .guidelines-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }

    .guideline-card {
      background: var(--background-primary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.2s;
    }

    .guideline-card:hover {
      border-color: var(--focus-color);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .guideline-card.allowed {
      border-color: var(--success-color);
      background: rgba(31, 136, 61, 0.05);
    }

    .guideline-card.prohibited {
      border-color: var(--danger-color);
      background: rgba(220, 53, 69, 0.05);
    }

    .guideline-icon {
      font-size: 32px;
      margin-bottom: 12px;
      display: block;
    }

    .guideline-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .guideline-description {
      color: var(--text-secondary);
      font-size: 14px;
      line-height: 1.5;
    }

    .violation-levels {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 24px 0;
    }

    .violation-card {
      padding: 20px;
      border-radius: 12px;
      border: 2px solid;
      text-align: center;
    }

    .violation-card.mild {
      border-color: var(--warning-color);
      background: rgba(255, 193, 7, 0.1);
    }

    .violation-card.moderate {
      border-color: #ff6600;
      background: rgba(255, 102, 0, 0.1);
    }

    .violation-card.severe {
      border-color: var(--danger-color);
      background: rgba(220, 53, 69, 0.1);
    }

    .violation-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .violation-consequence {
      font-size: 14px;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    .violation-examples {
      font-size: 12px;
      color: var(--text-tertiary);
      font-style: italic;
    }

    .moderation-demo {
      background: var(--background-tertiary);
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
    }

    .demo-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .demo-input {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      background: var(--background-secondary);
      color: var(--text-primary);
      margin-bottom: 12px;
    }

    .demo-button {
      background: var(--focus-color);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .demo-button:hover {
      background: #0550c7;
    }

    .demo-result {
      margin-top: 16px;
      padding: 16px;
      border-radius: 8px;
      font-size: 14px;
      display: none;
    }

    .demo-result.safe {
      background: rgba(31, 136, 61, 0.1);
      border: 1px solid var(--success-color);
      color: var(--success-color);
    }

    .demo-result.warning {
      background: rgba(255, 193, 7, 0.1);
      border: 1px solid var(--warning-color);
      color: #856404;
    }

    .demo-result.violation {
      background: rgba(220, 53, 69, 0.1);
      border: 1px solid var(--danger-color);
      color: var(--danger-color);
    }

    .reporting-section {
      background: linear-gradient(135deg, rgba(6, 95, 212, 0.1), rgba(66, 133, 244, 0.1));
      border: 1px solid var(--focus-color);
      border-radius: 12px;
      padding: 24px;
      margin: 24px 0;
    }

    .reporting-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--focus-color);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .reporting-form {
      display: grid;
      gap: 16px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-label {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-primary);
    }

    .form-select, .form-textarea {
      padding: 12px 16px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      background: var(--background-secondary);
      color: var(--text-primary);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .submit-report-btn {
      background: var(--focus-color);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s;
      justify-self: start;
    }

    .submit-report-btn:hover {
      background: #0550c7;
    }

    .user-status {
      background: var(--background-secondary);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
      border-left: 4px solid var(--success-color);
    }

    .user-status.warning {
      border-left-color: var(--warning-color);
    }

    .user-status.suspended {
      border-left-color: var(--danger-color);
    }

    .user-status.banned {
      border-left-color: #000;
    }

    .status-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .status-description {
      font-size: 14px;
      color: var(--text-secondary);
    }

    .back-button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      margin-bottom: 16px;
      transition: color 0.2s;
    }

    .back-button:hover {
      color: var(--text-primary);
    }

    .signature {
      background: var(--background-tertiary);
      padding: 20px;
      border-radius: 12px;
      margin-top: 32px;
      text-align: center;
    }

    .signature p {
      margin: 4px 0;
      font-weight: 500;
      color: var(--text-primary);
    }

    @media (max-width: 1312px) {
      .guidelines-content {
        margin-left: var(--sidebar-collapsed-width);
      }
    }

    @media (max-width: 792px) {
      .guidelines-content {
        margin-left: 0;
        padding: 16px;
      }
      
      .guidelines-header {
        padding: 20px;
      }
      
      .guidelines-header h1 {
        font-size: 24px;
      }
      
      .guidelines-intro {
        font-size: 16px;
      }
      
      .guidelines-nav {
        padding: 12px;
      }
      
      .nav-btn {
        font-size: 12px;
        padding: 6px 12px;
      }
      
      .guidelines-section {
        padding: 20px;
      }
      
      .section-title {
        font-size: 20px;
      }
      
      .guidelines-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="top-bar">
    <div class="logo" onclick="window.location.href='index.html'">JonahTube</div>
    <div class="search-container">
      <input type="text" placeholder="Search..." class="search-bar" />
      <div class="search-button">üîç</div>
    </div>
    <div class="top-buttons">
      <button class="theme-toggle" id="theme-toggle">üåô</button>
      <a href="add-video.html" class="icon-button has-label">
        <span class="button-icon">‚ûï</span>
        <span class="button-label">Create</span>
      </a>
      <div id="notification-bell" class="icon-button">
        <span class="button-icon">üîî</span>
        <span class="button-label">Notifications</span>
        <span id="notif-dot" class="notif-dot" style="display: none;"></span>
      </div>
      <a href="account.html" class="icon-button">
        <span class="button-icon">üë§</span>
        <span class="button-label">Profile</span>
      </a>
    </div>
  </header>

  <div class="main-content">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-section">
        <a href="index.html">üè† Home</a>
        <a href="shorts.html">üé¨ Shorts</a>
        <a href="#" id="subscriptions-link">üì∫ Subscriptions</a>
      </div>
      <div class="sidebar-section">
        <a href="#">üïì History</a>
        <a href="account.html">üì§ Your Channel</a>
        <a href="#">üëç Liked Videos</a>
        <a href="gamezone.html">üéÆ GameZone</a>
        <a href="my-story.html">üìñ My Story</a>
      </div>
      <div class="sidebar-section">
        <a href="#">‚öôÔ∏è Settings</a>
        <a href="guidelines.html" class="active">üìã Guidelines</a>
      </div>
    </aside>

    <!-- Guidelines Content -->
    <main class="guidelines-content">
      <a href="index.html" class="back-button">‚Üê Back to Home</a>
      
      <!-- User Status Display -->
      <div class="user-status" id="user-status" style="display: none;">
        <div class="status-title" id="status-title"></div>
        <div class="status-description" id="status-description"></div>
      </div>

      <!-- Guidelines Header -->
      <div class="guidelines-header">
        <h1>üéâ JonahTube Community Guidelines</h1>
        <p class="guidelines-intro">
          Welcome to JonahTube! Our community guidelines help us maintain a safe, respectful, and creative environment for everyone. 
          We use advanced content moderation to ensure all content meets our standards.
        </p>
      </div>

      <!-- Navigation -->
      <nav class="guidelines-nav">
        <button class="nav-btn active" data-section="overview">üìã Overview</button>
        <button class="nav-btn" data-section="allowed">‚úÖ What's Allowed</button>
        <button class="nav-btn" data-section="prohibited">üö´ What's Prohibited</button>
        <button class="nav-btn" data-section="moderation">ü§ñ Content Moderation</button>
        <button class="nav-btn" data-section="violations">‚ö†Ô∏è Violations & Consequences</button>
        <button class="nav-btn" data-section="reporting">üö® Report Content</button>
      </nav>

      <!-- Overview Section -->
      <section class="guidelines-section" id="overview-section">
        <h2 class="section-title">üìã Community Guidelines Overview</h2>
        <p class="section-subtitle">
          JonahTube is built on four key principles that guide our community standards and automated moderation system.
        </p>

        <div class="guidelines-grid">
          <div class="guideline-card">
            <span class="guideline-icon">ü§ù</span>
            <h3 class="guideline-title">Respect & Kindness</h3>
            <p class="guideline-description">
              Treat everyone with respect. No bullying, harassment, or hate speech. Be kind in comments and interactions.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">üõ°Ô∏è</span>
            <h3 class="guideline-title">Safety First</h3>
            <p class="guideline-description">
              Keep content appropriate for all ages. No violence, graphic content, or dangerous activities.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">üé®</span>
            <h3 class="guideline-title">Original Content</h3>
            <p class="guideline-description">
              Share your own creations or content you have permission to use. Respect intellectual property rights.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">‚öñÔ∏è</span>
            <h3 class="guideline-title">Follow the Rules</h3>
            <p class="guideline-description">
              Abide by all community guidelines and local laws. Report violations instead of retaliating.
            </p>
          </div>
        </div>
      </section>

      <!-- Allowed Content Section -->
      <section class="guidelines-section" id="allowed-section" style="display: none;">
        <h2 class="section-title">‚úÖ What's Allowed on JonahTube</h2>
        <p class="section-subtitle">
          We encourage creative, positive, and engaging content that brings our community together.
        </p>

        <div class="guidelines-grid">
          <div class="guideline-card allowed">
            <span class="guideline-icon">üéÆ</span>
            <h3 class="guideline-title">Gaming Content</h3>
            <p class="guideline-description">
              Game reviews, walkthroughs, tutorials, and live streams of age-appropriate games.
            </p>
          </div>

          <div class="guideline-card allowed">
            <span class="guideline-icon">‚öΩ</span>
            <h3 class="guideline-title">Sports & Fitness</h3>
            <p class="guideline-description">
              Sports highlights, tutorials, workout videos, and healthy lifestyle content.
            </p>
          </div>

          <div class="guideline-card allowed">
            <span class="guideline-icon">üìö</span>
            <h3 class="guideline-title">Educational Content</h3>
            <p class="guideline-description">
              Tutorials, explanations, documentaries, and informative content that helps people learn.
            </p>
          </div>

          <div class="guideline-card allowed">
            <span class="guideline-icon">üéµ</span>
            <h3 class="guideline-title">Music & Arts</h3>
            <p class="guideline-description">
              Original music, covers, art tutorials, and creative content you have rights to share.
            </p>
          </div>

          <div class="guideline-card allowed">
            <span class="guideline-icon">üòÇ</span>
            <h3 class="guideline-title">Comedy & Entertainment</h3>
            <p class="guideline-description">
              Clean humor, skits, memes, and entertaining content that doesn't hurt or target anyone.
            </p>
          </div>

          <div class="guideline-card allowed">
            <span class="guideline-icon">üåü</span>
            <h3 class="guideline-title">Personal Stories</h3>
            <p class="guideline-description">
              Vlogs, life experiences, positive messages, and content that inspires others.
            </p>
          </div>
        </div>
      </section>

      <!-- Prohibited Content Section -->
      <section class="guidelines-section" id="prohibited-section" style="display: none;">
        <h2 class="section-title">üö´ What's Prohibited on JonahTube</h2>
        <p class="section-subtitle">
          These types of content violate our community guidelines and will be detected by our moderation system.
        </p>

        <div class="guidelines-grid">
          <div class="guideline-card prohibited">
            <span class="guideline-icon">üò†</span>
            <h3 class="guideline-title">Hate Speech & Bullying</h3>
            <p class="guideline-description">
              Content that attacks, threatens, or discriminates against individuals or groups.
            </p>
          </div>

          <div class="guideline-card prohibited">
            <span class="guideline-icon">üîû</span>
            <h3 class="guideline-title">Adult Content</h3>
            <p class="guideline-description">
              Sexually explicit material, nudity, or content inappropriate for younger audiences.
            </p>
          </div>

          <div class="guideline-card prohibited">
            <span class="guideline-icon">‚öîÔ∏è</span>
            <h3 class="guideline-title">Violence & Gore</h3>
            <p class="guideline-description">
              Graphic violence, disturbing imagery, or content that promotes dangerous activities.
            </p>
          </div>

          <div class="guideline-card prohibited">
            <span class="guideline-icon">üìÑ</span>
            <h3 class="guideline-title">Copyright Infringement</h3>
            <p class="guideline-description">
              Uploading content you don't own or don't have permission to use.
            </p>
          </div>

          <div class="guideline-card prohibited">
            <span class="guideline-icon">üí∞</span>
            <h3 class="guideline-title">Spam & Scams</h3>
            <p class="guideline-description">
              Repetitive content, fake giveaways, phishing attempts, or misleading information.
            </p>
          </div>

          <div class="guideline-card prohibited">
            <span class="guideline-icon">‚öóÔ∏è</span>
            <h3 class="guideline-title">Dangerous Content</h3>
            <p class="guideline-description">
              Instructions for harmful activities, drug use, or content that could cause injury.
            </p>
          </div>
        </div>
      </section>

      <!-- Content Moderation Section -->
      <section class="guidelines-section" id="moderation-section" style="display: none;">
        <h2 class="section-title">ü§ñ Automated Content Moderation</h2>
        <p class="section-subtitle">
          JonahTube uses advanced AI to automatically detect and moderate content that violates our guidelines.
        </p>

        <div class="moderation-demo">
          <h3 class="demo-title">üß™ Try Our Content Scanner</h3>
          <p style="color: var(--text-secondary); margin-bottom: 16px;">
            Enter some text to see how our moderation system would evaluate it:
          </p>
          <input type="text" class="demo-input" id="content-demo-input" placeholder="Type some content to test...">
          <button class="demo-button" id="scan-content-btn">üîç Scan Content</button>
          <div class="demo-result" id="scan-result"></div>
        </div>

        <h3 style="color: var(--text-primary); margin: 24px 0 16px 0;">How Our System Works:</h3>
        <div class="guidelines-grid">
          <div class="guideline-card">
            <span class="guideline-icon">üîç</span>
            <h3 class="guideline-title">Real-time Scanning</h3>
            <p class="guideline-description">
              Every upload is scanned for inappropriate content before it goes live.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">üéØ</span>
            <h3 class="guideline-title">Keyword Detection</h3>
            <p class="guideline-description">
              Advanced algorithms detect harmful language, spam, and policy violations.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">‚ö°</span>
            <h3 class="guideline-title">Instant Action</h3>
            <p class="guideline-description">
              Violating content is blocked immediately, and appropriate consequences are applied.
            </p>
          </div>

          <div class="guideline-card">
            <span class="guideline-icon">üëÅÔ∏è</span>
            <h3 class="guideline-title">Human Review</h3>
            <p class="guideline-description">
              Complex cases are reviewed by human moderators for fair and accurate decisions.
            </p>
          </div>
        </div>
      </section>

      <!-- Violations & Consequences Section -->
      <section class="guidelines-section" id="violations-section" style="display: none;">
        <h2 class="section-title">‚ö†Ô∏è Violations & Consequences</h2>
        <p class="section-subtitle">
          Our moderation system applies consequences based on the severity and frequency of violations.
        </p>

        <div class="violation-levels">
          <div class="violation-card mild">
            <h3 class="violation-title" style="color: #856404;">üü° Mild Violations</h3>
            <div class="violation-consequence">
              <strong>Consequence:</strong> Content Warning<br>
              <strong>Duration:</strong> Immediate
            </div>
            <div class="violation-examples">
              Examples: Minor inappropriate language, borderline content
            </div>
          </div>

          <div class="violation-card moderate">
            <h3 class="violation-title" style="color: #cc5500;">üü† Moderate Violations</h3>
            <div class="violation-consequence">
              <strong>Consequence:</strong> Content Removal + Warning<br>
              <strong>Escalation:</strong> 3+ violations = 3-day suspension
            </div>
            <div class="violation-examples">
              Examples: Spam, misleading content, copyright issues
            </div>
          </div>

          <div class="violation-card severe">
            <h3 class="violation-title" style="color: var(--danger-color);">üî¥ Severe Violations</h3>
            <div class="violation-consequence">
              <strong>1st offense:</strong> Content removed + Warning<br>
              <strong>2nd offense:</strong> 7-day suspension<br>
              <strong>3rd offense:</strong> Permanent ban
            </div>
            <div class="violation-examples">
              Examples: Hate speech, violence, explicit content, harassment
            </div>
          </div>
        </div>

        <div style="background: var(--background-tertiary); padding: 20px; border-radius: 12px; margin-top: 24px;">
          <h4 style="color: var(--text-primary); margin-bottom: 12px;">üìä Your Current Status</h4>
          <div id="user-violation-status">
            <p style="color: var(--success-color); margin: 0;">‚úÖ No violations - Keep up the great work!</p>
          </div>
        </div>
      </section>

      <!-- Reporting Section -->
      <section class="guidelines-section" id="reporting-section" style="display: none;">
        <div class="reporting-section">
          <h3 class="reporting-title">üö® Report Inappropriate Content</h3>
          <p style="color: var(--text-secondary); margin-bottom: 20px;">
            Help keep JonahTube safe by reporting content that violates our guidelines.
          </p>

          <form class="reporting-form" id="report-form">
            <div class="form-group">
              <label class="form-label">What are you reporting?</label>
              <select class="form-select" id="report-type" required>
                <option value="">Select violation type</option>
                <option value="hate-speech">Hate Speech or Bullying</option>
                <option value="spam">Spam or Scam</option>
                <option value="inappropriate">Inappropriate Content</option>
                <option value="violence">Violence or Dangerous Content</option>
                <option value="copyright">Copyright Infringement</option>
                <option value="misinformation">False Information</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label">Content URL or Video ID</label>
              <input type="text" class="demo-input" id="report-url" placeholder="Paste the URL or video ID here..." required>
            </div>

            <div class="form-group">
              <label class="form-label">Additional Details</label>
              <textarea class="form-textarea" id="report-details" placeholder="Please provide additional context about why this content violates our guidelines..." required></textarea>
            </div>

            <button type="submit" class="submit-report-btn">üö® Submit Report</button>
          </form>
        </div>

        <div style="margin-top: 24px; padding: 16px; background: rgba(6, 95, 212, 0.1); border-radius: 8px; border: 1px solid var(--focus-color);">
          <h4 style="color: var(--focus-color); margin-bottom: 8px;">üìã What Happens After You Report?</h4>
          <ul style="color: var(--text-secondary); margin: 0; padding-left: 20px;">
            <li>Your report is reviewed within 24 hours</li>
            <li>If content violates guidelines, appropriate action is taken</li>
            <li>You'll receive a notification about the outcome</li>
            <li>False reports may result in restrictions on your account</li>
          </ul>
        </div>
      </section>

      <div class="signature">
        <p>üé• Together, we make JonahTube awesome!</p>
        <p><strong>‚Äì Jonah & The JonahTube Moderation Team</strong></p>
      </div>
    </main>
  </div>

  <script>
    class GuidelinesManager {
      constructor() {
        this.moderationRules = {
          severe: ['hate', 'violence', 'threat', 'abuse', 'harassment', 'bully', 'kill', 'die', 'sexual', 'nude', 'drug', 'weapon'],
          moderate: ['spam', 'fake', 'scam', 'clickbait', 'misleading', 'copyright', 'stolen', 'copied', 'stupid', 'idiot'],
          mild: ['rude', 'mean', 'annoying', 'boring', 'worst', 'terrible', 'awful']
        };
        
        this.userViolations = JSON.parse(localStorage.getItem('userViolations') || '[]');
        this.init();
      }

      init() {
        this.setupThemeToggle();
        this.setupNotifications();
        this.setupNavigation();
        this.setupContentDemo();
        this.setupReporting();
        this.displayUserStatus();
        this.updateViolationStatus();
      }

      setupThemeToggle() {
        const themeToggle = document.getElementById('theme-toggle');
        const currentTheme = localStorage.getItem('theme') || 'light';
        
        if (currentTheme === 'dark') {
          document.documentElement.setAttribute('data-theme', 'dark');
          themeToggle.textContent = '‚òÄÔ∏è';
        }

        themeToggle.addEventListener('click', () => {
          const current = document.documentElement.getAttribute('data-theme');
          const newTheme = current === 'dark' ? 'light' : 'dark';
          
          document.documentElement.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
          themeToggle.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        });
      }

      setupNotifications() {
        const notifBell = document.getElementById("notification-bell");
        const notifDot = document.getElementById("notif-dot");
        
        // Mark guidelines as read
        localStorage.setItem("readGuidelines", "true");
        notifDot.style.display = "none";

        notifBell.addEventListener("click", () => {
          window.location.href = "guidelines.html";
        });
      }

      setupNavigation() {
        document.querySelectorAll('.nav-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const section = btn.dataset.section;
            this.switchSection(section);
          });
        });
      }

      switchSection(sectionName) {
        // Update active button
        document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelector(`[data-section="${sectionName}"]`).classList.add('active');

        // Show corresponding section
        document.querySelectorAll('.guidelines-section').forEach(section => {
          section.style.display = 'none';
        });
        document.getElementById(`${sectionName}-section`).style.display = 'block';
      }

      setupContentDemo() {
        const scanBtn = document.getElementById('scan-content-btn');
        const input = document.getElementById('content-demo-input');
        const result = document.getElementById('scan-result');

        scanBtn.addEventListener('click', () => {
          const content = input.value.trim();
          if (!content) {
            this.showDemoResult('Please enter some content to scan.', 'warning');
            return;
          }

          const violations = this.scanContent(content);
          this.showScanResult(violations, content);
        });

        input.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            scanBtn.click();
          }
        });
      }

      scanContent(content) {
        const lowerContent = content.toLowerCase();
        const violations = [];

        // Check for severe violations
        for (const word of this.moderationRules.severe) {
          if (lowerContent.includes(word)) {
            violations.push({ type: 'severe', word });
          }
        }

        // Check for moderate violations
        for (const word of this.moderationRules.moderate) {
          if (lowerContent.includes(word)) {
            violations.push({ type: 'moderate', word });
          }
        }

        // Check for mild violations
        for (const word of this.moderationRules.mild) {
          if (lowerContent.includes(word)) {
            violations.push({ type: 'mild', word });
          }
        }

        return violations;
      }

      showScanResult(violations, content) {
        const result = document.getElementById('scan-result');
        
        if (violations.length === 0) {
          this.showDemoResult('‚úÖ Content approved! No violations detected.', 'safe');
          return;
        }

        const severeCount = violations.filter(v => v.type === 'severe').length;
        const moderateCount = violations.filter(v => v.type === 'moderate').length;
        const mildCount = violations.filter(v => v.type === 'mild').length;

        let message = '';
        let resultType = 'warning';

        if (severeCount > 0) {
          message = `üö´ Content BLOCKED: Severe violation detected (${violations.filter(v => v.type === 'severe').map(v => v.word).join(', ')})`;
          resultType = 'violation';
        } else if (moderateCount > 0) {
          message = `‚ö†Ô∏è Content FLAGGED: Moderate violation detected (${violations.filter(v => v.type === 'moderate').map(v => v.word).join(', ')})`;
          resultType = 'violation';
        } else if (mildCount > 0) {
          message = `‚ö†Ô∏è Content WARNING: Mild violation detected (${violations.filter(v => v.type === 'mild').map(v => v.word).join(', ')})`;
          resultType = 'warning';
        }

        this.showDemoResult(message, resultType);
      }

      showDemoResult(message, type) {
        const result = document.getElementById('scan-result');
        result.textContent = message;
        result.className = `demo-result ${type}`;
        result.style.display = 'block';
      }

      setupReporting() {
        const reportForm = document.getElementById('report-form');
        reportForm.addEventListener('submit', (e) => {
          e.preventDefault();
          this.submitReport();
        });
      }

      submitReport() {
        const reportType = document.getElementById('report-type').value;
        const reportUrl = document.getElementById('report-url').value;
        const reportDetails = document.getElementById('report-details').value;

        if (!reportType || !reportUrl || !reportDetails) {
          this.showNotification('Please fill in all required fields.', 'error');
          return;
        }

        // Simulate report submission
        const report = {
          id: Date.now().toString(),
          type: reportType,
          url: reportUrl,
          details: reportDetails,
          timestamp: new Date().toISOString(),
          status: 'pending'
        };

        const reports = JSON.parse(localStorage.getItem('userReports') || '[]');
        reports.push(report);
        localStorage.setItem('userReports', JSON.stringify(reports));

        this.showNotification('Report submitted successfully! We\'ll review it within 24 hours.', 'success');
        
        // Reset form
        document.getElementById('report-form').reset();
      }

      displayUserStatus() {
        const accountStatus = localStorage.getItem('accountStatus');
        const suspensionEnd = localStorage.getItem('suspensionEnd');
        const userStatusDiv = document.getElementById('user-status');
        const statusTitle = document.getElementById('status-title');
        const statusDescription = document.getElementById('status-description');

        if (accountStatus === 'banned') {
          userStatusDiv.className = 'user-status banned';
          userStatusDiv.style.display = 'block';
          statusTitle.textContent = 'üö´ Account Banned';
          statusDescription.textContent = 'Your account has been permanently banned due to severe violations of our community guidelines.';
        } else if (suspensionEnd && Date.now() < parseInt(suspensionEnd)) {
          const endDate = new Date(parseInt(suspensionEnd));
          userStatusDiv.className = 'user-status suspended';
          userStatusDiv.style.display = 'block';
          statusTitle.textContent = '‚è∏Ô∏è Account Suspended';
          statusDescription.textContent = `Your account is suspended until ${endDate.toLocaleDateString()} ${endDate.toLocaleTimeString()}. You cannot upload content during this time.`;
        } else if (this.userViolations.length > 0) {
          const recentViolations = this.userViolations.filter(v => 
            Date.now() - v.timestamp < 30 * 24 * 60 * 60 * 1000
          );
          
          if (recentViolations.length > 0) {
            userStatusDiv.className = 'user-status warning';
            userStatusDiv.style.display = 'block';
            statusTitle.textContent = '‚ö†Ô∏è Warning';
            statusDescription.textContent = `You have ${recentViolations.length} violation(s) in the last 30 days. Please review our guidelines to avoid further consequences.`;
          }
        }
      }

      updateViolationStatus() {
        const statusDiv = document.getElementById('user-violation-status');
        const recentViolations = this.userViolations.filter(v => 
          Date.now() - v.timestamp < 30 * 24 * 60 * 60 * 1000
        );

        if (recentViolations.length === 0) {
          statusDiv.innerHTML = '<p style="color: var(--success-color); margin: 0;">‚úÖ No violations - Keep up the great work!</p>';
        } else {
          const totalSevere = recentViolations.reduce((sum, v) => sum + v.severe, 0);
          const totalModerate = recentViolations.reduce((sum, v) => sum + v.moderate, 0);
          const totalMild = recentViolations.reduce((sum, v) => sum + v.mild, 0);

          statusDiv.innerHTML = `
            <p style="color: var(--warning-color); margin: 0 0 8px 0;">‚ö†Ô∏è ${recentViolations.length} violation(s) in the last 30 days:</p>
            <ul style="margin: 0; padding-left: 20px; color: var(--text-secondary);">
              ${totalSevere > 0 ? `<li>üî¥ Severe: ${totalSevere}</li>` : ''}
              ${totalModerate > 0 ? `<li>üü† Moderate: ${totalModerate}</li>` : ''}
              ${totalMild > 0 ? `<li>üü° Mild: ${totalMild}</li>` : ''}
            </ul>
          `;
        }
      }

      showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        notification.className = `notification ${type} show`;
        notification.innerHTML = `
          <div style="display: flex; align-items: center; gap: 8px;">
            <span>${type === 'success' ? '‚úÖ' : type === 'error' ? '‚ùå' : '‚ÑπÔ∏è'}</span>
            <span>${message}</span>
          </div>
        `;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.classList.remove('show');
          setTimeout(() => notification.remove(), 300);
        }, 3000);
      }
    }

    // Initialize guidelines manager when DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      new GuidelinesManager();
    });
  </script>
</body>
</html>
